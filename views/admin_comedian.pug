doctype html
head
  link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css')
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We' crossorigin='anonymous')
  script(src='/javascript/comedians.js')



  script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous")
  script(src='https://code.jquery.com/jquery-3.2.1.slim.min.js' integrity='sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN' crossorigin='anonymous')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js' integrity='sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh' crossorigin='anonymous')
  script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js' integrity='sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ' crossorigin='anonymous')
  script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js')
  link(rel='stylesheet' href='/css/admin.css')
  
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')

  style. 
    .user-img{
    height: 100px;
    width: 100px;
    } 

    .breadcrumbs {
    margin-top: 0px;
    text-align: center;
    background-color: darkorange;
    padding: 30px 0;
    color: #fff;
    }

  //Favicons
  link(href='/assets/img/favicon.png' rel='icon')
  link(href='/assets/img/apple-touch-icon.png' rel='apple-touch-icon')
  // Google Fonts
  link(href='https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i' rel='stylesheet')
  // Vendor CSS Files
  link(href='/assets/vendor/animate.css/animate.min.css' rel='stylesheet')
  link(href='/assets/vendor/aos/aos.css' rel='stylesheet')

  link(href='/assets/vendor/bootstrap-icons/bootstrap-icons.css' rel='stylesheet')
  link(href='/assets/vendor/boxicons/css/boxicons.min.css' rel='stylesheet')
  link(href='/assets/vendor/remixicon/remixicon.css' rel='stylesheet')
  link(href='/assets/vendor/swiper/swiper-bundle.min.css' rel='stylesheet')
  // Template Main CSS File
  
  link(href='/assets/css/style.css' rel='stylesheet')
  
#add_artist.modal.fade(tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true')
  .modal-dialog.modal-lg
    .modal-content
      .modal-header 
        h5#exampleModalLabel.modal-title
          | Register Comedian 
        button.btn-close(type='button' data-dismiss='modal' aria-label='Close')
      .modal-body

        form(method='post' action='/comedians/register' enctype='multipart/form-data' style='max-width: 600px; margin: auto' name='registration' onsubmit='return validate()')
            include partials/messages.pug
            
            .breadcrumbs(data-aos='fade-in')
                .container
                    h2 Register Comedian
            if user.success == true
        
                .alert.alert-success.d-flex.align-items-center(role='alert')
                svg.bi.flex-shrink-0.me-2(width='24' height='24' role='img' aria-label='Success:')
                    use(xlink:href='#check-circle-fill')
                div 
                    | Comedian successfully created. 
            else if user.success == false  
                
                .alert.alert-warning.d-flex.align-items-center(role='alert')
                svg.bi.flex-shrink-0.me-2(width='24' height='24' role='img' aria-label='Warning:')
                use(xlink:href='#exclamation-triangle-fill')
                div
                | #{user.msg} 
            label(for='start') Name:
            p#name-error(style='display: none;')
            .input-icons
                i.fa.fa-user.icon  
                input.input-field(name='username' type='text' placeholder='Odeke Trevor Angulo')
            label(for='start') Email:
            p#email-error(style='display: none;')
            .input-icons
                i.fa.fa-at.icon
                input.input-field(name='email' type='text' placeholder='peter@gmail.com')
            .row
                .col-6
                    label(for='start') Date started:
                    p#startdate-error(style='display: none;')
                    input#start.input-field(type='date' name='startdate' value='2018-07-22' min='2018-01-01' max='2018-12-31')
                .col-6
                    label(for='nin') Area based:
                    p#area-error(style='display: none;')
                    .input-icons
                        i.fa.fa-compass.icon
                        input#area.input-field(name='area' type='text' placeholder='Kampala')
            .row
                .col-6
                    // <p>Date of birth</p>
                    label(for='start') DOB:
                    p#dob-error(style='display: none;')
                    input#start.input-field(type='date' name='dob' value='2000-01-01' max='2000-01-01')
                .col-6.user_gender
                    // <p>Gender</p>
                    label(for='') Gender :
                    br
                    p#gender-error(style='display: none;')
                    // <button name="male" class="gender" value="male">
                    // <input type="button" name="male" class="gender" value="Male" onclick="gender_male()"/>
                    input#male(type='radio' name='gender' value='male')
                    label(for='male') Male
                    // <input type="button" name="female" class="gender" value="Female" onclick="gender_female()"/>
                    input#female(type='radio' name='gender' value='female')
                    label(for='female') Female
            .row
                .col-6
                    label(for='nin') NIN:
                    p#nin-error(style='display: none;')
                    .input-icons
                        i.fa.fa-id-card.icon
                        input#nin.input-field(name='nin' type='text' placeholder='SD345345TYR')
                .col-6
                    label(for='location') Location:
                    p#location-error(style='display: none;')
                    .input-icons
                        i.fa.fa-location-arrow.icon
                        input#location.input-field(name='location' type='text' placeholder='Kampala')
            .row
                .col-6
                    label(for='album') Comedian ID:
                    p#comedianid-error(style='display: none;')
                    .input-icons 
                        i.fa.fa-id-badge.icon
                        input#artist_id.input-field(name='comedianid' type='text' placeholder='ozy12mux')

                .col-6
                    label(for='album') Contact:
                    p#contact-error(style='display: none;')
                    .input-icons
                        i.fa.fa-phone.icon  
                        input#contact.input-field(name='contact' type='number' placeholder='Contact')
            .row
                .col-6
                    label(for='album') Comdeian image:
                    p#image-error(style='display: none;') 
                        .input-icons 
                        input#profile_pic.input-field(type='file' name='image' accept='.jpg, .jpeg, .png')
                .col-6
                    label(for='nin') Profile:
                    p#profile-error(style='display: none;')
                    .input-icons
                        i.fa.fa-user-circle.icon
                        textarea#profile.input-field(name='profile' cols='23' rows='8')
            
            button.submit(type='submit' name='submitbtn') Submit

            button.reset(type='reset' name='reset') Reset
            



include partials/messages.pug
form.d-flex.search-artist   
  input.form-control.me-2(type='search' placeholder='Search comedian' aria-label='Search' name='username')
  button.btn.btn-outline-success(type='submit')
    | Search 
button.btn.btn-primary(type='button' data-toggle='modal' data-target='#add_artist') Add comedian  
table.table.table-hover
  thead
    tr 
      th(scope='col') #
      th(scope='col') Image
      th(scope='col') Name
      th(scope='col') Email 
      th(scope='col') Location
      th(scope='col') Area
      th(scope='col') Actions
  each val in user 
    
    //- #delete_artist.modal.fade(tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true')
    .modal.fade(id='delete_band'+val._id tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true')
        .modal-dialog 
            .modal-content 
                .modal-header 
                    h5#exampleModalLabel.modal-title Delete Comedian
                    button.btn-close(type='button' data-dismiss='modal' aria-label='Close')
                .modal-body
                    p Do you really want to delete this comedian ?
                    .modal-footer
                        button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                        a.btn.btn-danger(href='/bands/delete/'+val._id type='button') Delete comedian  
    
    .modal.fade(id='view_band'+val._id tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true')
        .modal-dialog
            .modal-content
                .modal-header
                    h5#exampleModalLabel.modal-title View Comedian
                    button.btn-close(type='button' data-dismiss='modal' aria-label='Close')
                .modal-body
                    .row
                        img.rounded.float-start(src=val.img alt='image' style='height: 250px; width: 250px;')
                    .row
                        .form-group.col-md-6
                            label(for='fname')  Comedian name
                            p #{val.username}
                        .form-group.col-6
                            label(for='lname') Area
                            p #{val.area}
                    .row
                        .form-group.col-md-6
                            label(for='name') Contact
                            p #{val.contact}
                        .form-group.col-6
                            label(for='user_name') Location
                            p #{val.location}
                    .row
                        .form-group.col-md-6
                            label(for='profile') Profile
                            p #{val.profile}
                        .form-group.col-md-6
                            label(for='dob') DOB
                            p #{moment(val.dob).format('DD/MM/YYYY')} 
                            
                    .row  
                        .form-group.col-md-6
                            label(for='password') Area based
                            p Soroti
                        .form-group.col-md-6
                            label(for='password') Date started
                            p #{moment(val.datestarte).format('DD/MM/YYYY')}
                    .row
                        .form-group.col-md-6
                            .form-group.col-16
                            label(for='fileToUpload') Genre
                            p #{val.category}
                .modal-footer 
                    button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                    button.btn.btn-danger(type='button') Delete band
    //- #edit_artist.modal.fade(role='document')
    .modal.fade(id='edit_band'+val._id tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true' role='document')
        .modal-dialog.modal-lg
            .modal-content 
                .modal-header
                    h4.modal-title Edit Comedian
                .modal-body
                    form.artist-form(method='post' action='/comedians/admin-update/'+val._id style='max-width: 600px; margin: auto' name='updateform')
                        h2(style='color: black;') UPDATE COMEDIAN  
                        .row   
                            img.rounded.mx-auto.d-block.upd-img(src=val.img alt='image')
                            label(for='start') Comedian name:
                            p#name-error(style='display: none;')
                            .input-icons
                                i.fa.fa-user.icon  
                                input.input-field(name='username' type='text' placeholder='Afrigo Band' value=val.username)
                            label(for='profile') Bio:
                            p#profile-error(style='display: none;')
                            .input-icons
                                i.fa.fa-user-circle.icon
                                textarea#profile.input-field(name='profile' cols='23' rows='8') #{val.profile}
                        
                        button.submit(type='submit' name='submitbtn') Submit
  
                        
                        button.reset(type='reset' name='reset')
                            | Reset
                    .modal-footer
                        button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                        button.btn.btn-primary(type='button') Save changes
     
    tbody
        tr
        th(scope='row') 1
        td
            img.user-img(src=val.img alt='')
        td #{val.username}
        td #{val.email} 
        td #{val.location}
        td #{val.area}
        td 
            button.btn.btn.edit_btn.action_btn(type='button' data-toggle='modal' data-target='#edit_band' + val._id) Edit
            button.btn.btn-danger.del_btn.action_btn(type='button' data-toggle='modal' data-target='#delete_band'+ val._id) Delete
            button.btn.btn-success.view_btn.action_btn(type='button' data-toggle='modal' data-target='#view_band'+ val._id) View
 
